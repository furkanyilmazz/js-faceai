{"code":"(this[\"webpackJsonpjs-faceai\"]=this[\"webpackJsonpjs-faceai\"]||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},28:function(e,t){},29:function(e,t){},30:function(e,t){},33:function(e,t,n){\"use strict\";n.r(t);var r=n(4),a=n.n(r),c=n(13),i=n.n(c),o=(n(19),n(6)),s=n.n(o),d=n(10),u=n(14),f=(n(21),n(2)),l=n(3);function g(){var e=1280,t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useRef)(),o=Object(r.useRef)();Object(r.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=\"/models\",c(!0),Promise.all([f.f.tinyFaceDetector.loadFromUri(t),f.f.faceLandmark68Net.loadFromUri(t),f.f.faceRecognitionNet.loadFromUri(t),f.f.faceExpressionNet.loadFromUri(t)]).then(g);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({audio:!1,video:{width:1280,height:720}},(function(e){var t=document.querySelector(\"video\");t.srcObject=e,t.onloadedmetadata=function(e){t.play()}}),(function(e){console.log(\"The following error occurred: \"+e.name)})):console.log(\"getUserMedia not supported\")};return Object(l.jsxs)(\"div\",{className:\"main\",children:[Object(l.jsx)(\"span\",{children:a?\"Initializing\":\"Ready\"}),Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"video\",{id:\"video\",className:\"video\",ref:i,autoplay:!0,muted:!0,height:720,width:e,onPlay:function(){setInterval(Object(d.a)(s.a.mark((function t(){var n,r,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&c(!1),o.current.innerHTML=f.b(i.current),n={width:e,heigth:720},f.e(o.current,n),t.next=6,f.c(i.current,new f.a).withFaceLandmarks().withFaceExpressions();case 6:r=t.sent,d=f.g(r,n),o.current.getContext(\"2d\").clearRect(0,0,e,720),f.d.drawDetections(o.current,d),f.d.drawFaceLandmarks(o.current,d),f.d.drawFaceExpressions(o.current,d),console.log(r);case 13:case\"end\":return t.stop()}}),t)}))),100)}}),Object(l.jsx)(\"canvas\",{ref:o})]})]})}var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById(\"root\")),v()}},[[33,1,2]]]);","name":"static/js/main.384553e7.chunk.js","map":{"version":3,"sources":["static/js/main.384553e7.chunk.js"],"names":["this","push","19","module","exports","__webpack_require__","21","28","29","30","33","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","es6","jsx_runtime","App_App","videoWidth","_useState","Object","_useState2","initializing","setInitializing","videoRef","canvasRef","_ref","a","mark","_callee","MODEL_URL","wrap","_context","prev","next","Promise","all","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","then","startVideo","stop","apply","arguments","loadModels","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","audio","video","width","height","stream","document","querySelector","srcObject","onloadedmetadata","e","play","err","console","log","name","className","children","id","ref","autoplay","muted","onPlay","setInterval","_callee2","displaySize","detections","resizedDetections","_context2","current","innerHTML","heigth","withFaceLandmarks","withFaceExpressions","sent","getContext","clearRect","drawDetections","drawFaceLandmarks","drawFaceExpressions","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpjs-faceai\"] = this[\"webpackJsonpjs-faceai\"] || []).push([[0],{\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(4);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(6);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/face-api.js/build/es6/index.js + 170 modules\nvar es6 = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var videoHeight=720;var videoWidth=1280;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),initializing=_useState2[0],setInitializing=_useState2[1];var videoRef=Object(react[\"useRef\"])();var canvasRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var loadModels=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var MODEL_URL;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:MODEL_URL=\"\"+'/models';setInitializing(true);Promise.all([es6[\"f\" /* nets */].tinyFaceDetector.loadFromUri(MODEL_URL),es6[\"f\" /* nets */].faceLandmark68Net.loadFromUri(MODEL_URL),es6[\"f\" /* nets */].faceRecognitionNet.loadFromUri(MODEL_URL),es6[\"f\" /* nets */].faceExpressionNet.loadFromUri(MODEL_URL)]).then(startVideo);case 3:case\"end\":return _context.stop();}}},_callee);}));return function loadModels(){return _ref.apply(this,arguments);};}();loadModels();},[]);var startVideo=function startVideo(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;if(navigator.getUserMedia){navigator.getUserMedia({audio:false,video:{width:1280,height:720}},function(stream){var video=document.querySelector('video');video.srcObject=stream;video.onloadedmetadata=function(e){video.play();};},function(err){console.log(\"The following error occurred: \"+err.name);});}else{console.log(\"getUserMedia not supported\");}};var handleVideoOnPlay=function handleVideoOnPlay(){setInterval(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var displaySize,detections,resizedDetections;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(initializing){setInitializing(false);}canvasRef.current.innerHTML=es6[\"b\" /* createCanvasFromMedia */](videoRef.current);displaySize={width:videoWidth,heigth:videoHeight};es6[\"e\" /* matchDimensions */](canvasRef.current,displaySize);_context2.next=6;return es6[\"c\" /* detectAllFaces */](videoRef.current,new es6[\"a\" /* TinyFaceDetectorOptions */]()).withFaceLandmarks().withFaceExpressions();case 6:detections=_context2.sent;resizedDetections=es6[\"g\" /* resizeResults */](detections,displaySize);canvasRef.current.getContext(\"2d\").clearRect(0,0,videoWidth,videoHeight);es6[\"d\" /* draw */].drawDetections(canvasRef.current,resizedDetections);es6[\"d\" /* draw */].drawFaceLandmarks(canvasRef.current,resizedDetections);es6[\"d\" /* draw */].drawFaceExpressions(canvasRef.current,resizedDetections);console.log(detections);case 13:case\"end\":return _context2.stop();}}},_callee2);})),100);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:initializing?\"Initializing\":\"Ready\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{id:\"video\",className:\"video\",ref:videoRef,autoplay:true,muted:true,height:videoHeight,width:videoWidth,onPlay:handleVideoOnPlay}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{ref:canvasRef})]})]});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 34)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[33,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/a2017/Documents/GitHub/js-faceai/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/a2017/Documents/GitHub/js-faceai/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/a2017/Documents/GitHub/js-faceai/node_modules/postcss-loader/src/index.js??postcss!/Users/a2017/Documents/GitHub/js-faceai/src/index.css","/Users/a2017/Documents/GitHub/js-faceai/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/a2017/Documents/GitHub/js-faceai/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/a2017/Documents/GitHub/js-faceai/node_modules/postcss-loader/src/index.js??postcss!/Users/a2017/Documents/GitHub/js-faceai/src/App.css","ignored /Users/a2017/Documents/GitHub/js-faceai/node_modules/@tensorflow/tfjs-core/dist crypto","ignored /Users/a2017/Documents/GitHub/js-faceai/node_modules/@tensorflow/tfjs-core/dist node-fetch","ignored /Users/a2017/Documents/GitHub/js-faceai/node_modules/@tensorflow/tfjs-core/dist util","/Users/a2017/Documents/GitHub/js-faceai/src/App.js","/Users/a2017/Documents/GitHub/js-faceai/src/reportWebVitals.js","/Users/a2017/Documents/GitHub/js-faceai/src/index.js"],"names":["App","videoHeight","videoWidth","useState","initializing","setInitializing","videoRef","useRef","canvasRef","useEffect","loadModels","MODEL_URL","process","Promise","all","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","then","startVideo","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","audio","video","width","height","stream","document","querySelector","srcObject","onloadedmetadata","e","play","err","console","log","name","handleVideoOnPlay","setInterval","current","innerHTML","displaySize","heigth","withFaceLandmarks","withFaceExpressions","detections","resizedDetections","getContext","clearRect","drawDetections","drawFaceLandmarks","drawFaceExpressions","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKe,QAASA,QAAT,EAAe,CAE5B,GAAMC,YAAW,CAAG,GAApB,CACA,GAAMC,WAAU,CAAG,IAAnB,CAH4B,cAIYC,yBAAQ,CAAC,KAAD,CAJpB,kEAIrBC,YAJqB,eAIPC,eAJO,eAK5B,GAAMC,SAAQ,CAAGC,uBAAM,EAAvB,CACA,GAAMC,UAAS,CAAGD,uBAAM,EAAxB,CAEAE,0BAAS,CAAC,UAAM,CACd,GAAMC,WAAU,sHAAG,mJACXC,SADW,CACCC,EAAA,CAAyB,SAD1B,CAEjBP,eAAe,CAAC,IAAD,CAAf,CACAQ,OAAO,CAACC,GAAR,CAAY,CACVC,mBAAA,CAAaC,gBAAb,CAA8BC,WAA9B,CAA0CN,SAA1C,CADU,CAEVI,mBAAA,CAAaG,iBAAb,CAA+BD,WAA/B,CAA2CN,SAA3C,CAFU,CAGVI,mBAAA,CAAaI,kBAAb,CAAgCF,WAAhC,CAA4CN,SAA5C,CAHU,CAIVI,mBAAA,CAAaK,iBAAb,CAA+BH,WAA/B,CAA2CN,SAA3C,CAJU,CAAZ,EAKGU,IALH,CAKQC,UALR,EAHiB,sDAAH,kBAAVZ,WAAU,0CAAhB,CAUAA,UAAU,GACX,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMY,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBC,SAAS,CAACC,YAAV,CAAyBD,SAAS,CAACC,YAAV,EACvBD,SAAS,CAACE,kBADa,EAEvBF,SAAS,CAACG,eAFZ,CAIA,GAAIH,SAAS,CAACC,YAAd,CAA4B,CAC1BD,SAAS,CAACC,YAAV,CAAuB,CAAEG,KAAK,CAAE,KAAT,CAAgBC,KAAK,CAAE,CAAEC,KAAK,CAAE,IAAT,CAAeC,MAAM,CAAE,GAAvB,CAAvB,CAAvB,CACE,SAAUC,MAAV,CAAkB,CAChB,GAAIH,MAAK,CAAGI,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CACAL,KAAK,CAACM,SAAN,CAAkBH,MAAlB,CACAH,KAAK,CAACO,gBAAN,CAAyB,SAAUC,CAAV,CAAa,CACpCR,KAAK,CAACS,IAAN,GACD,CAFD,CAGD,CAPH,CAQE,SAAUC,GAAV,CAAe,CACbC,OAAO,CAACC,GAAR,CAAY,iCAAmCF,GAAG,CAACG,IAAnD,EACD,CAVH,EAYD,CAbD,IAaO,CACLF,OAAO,CAACC,GAAR,CAAY,4BAAZ,EACD,CAGF,CAvBD,CAyBA,GAAME,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9BC,WAAW,kGAAC,uLACV,GAAIvC,YAAJ,CAAkB,CAChBC,eAAe,CAAC,KAAD,CAAf,CACD,CACDG,SAAS,CAACoC,OAAV,CAAkBC,SAAlB,CAA8B9B,oCAAA,CAA8BT,QAAQ,CAACsC,OAAvC,CAA9B,CACME,WALI,CAKU,CAClBjB,KAAK,CAAE3B,UADW,CAElB6C,MAAM,CAAE9C,WAFU,CALV,CASVc,8BAAA,CAAwBP,SAAS,CAACoC,OAAlC,CAA2CE,WAA3C,EATU,uBAUe/B,8BAAA,CAAuBT,QAAQ,CAACsC,OAAhC,CAAyC,GAAI7B,uCAAJ,EAAzC,EAAgFiC,iBAAhF,GAAoGC,mBAApG,EAVf,QAUJC,UAVI,gBAWJC,iBAXI,CAWgBpC,4BAAA,CAAsBmC,UAAtB,CAAkCJ,WAAlC,CAXhB,CAYVtC,SAAS,CAACoC,OAAV,CAAkBQ,UAAlB,CAA6B,IAA7B,EAAmCC,SAAnC,CAA6C,CAA7C,CAAgD,CAAhD,CAAmDnD,UAAnD,CAA+DD,WAA/D,EACAc,mBAAA,CAAauC,cAAb,CAA4B9C,SAAS,CAACoC,OAAtC,CAA+CO,iBAA/C,EACApC,mBAAA,CAAawC,iBAAb,CAA+B/C,SAAS,CAACoC,OAAzC,CAAkDO,iBAAlD,EACApC,mBAAA,CAAayC,mBAAb,CAAiChD,SAAS,CAACoC,OAA3C,CAAoDO,iBAApD,EACAZ,OAAO,CAACC,GAAR,CAAYU,UAAZ,EAhBU,yDAAD,GAiBR,GAjBQ,CAAX,CAkBD,CAnBD,CAqBA,mBACE,mCAAK,SAAS,CAAC,MAAf,wBACE,4CAAO9C,YAAY,CAAG,cAAH,CAAoB,OAAvC,EADF,cAEE,0DACE,oCAAO,EAAE,CAAC,OAAV,CAAkB,SAAS,CAAC,OAA5B,CAAoC,GAAG,CAAEE,QAAzC,CAAmD,QAAQ,KAA3D,CAA4D,KAAK,KAAjE,CAAkE,MAAM,CAAEL,WAA1E,CAAuF,KAAK,CAAEC,UAA9F,CAA0G,MAAM,CAAEwC,iBAAlH,EADF,cAEE,qCAAQ,GAAG,CAAElC,SAAb,EAFF,GAFF,GADF,CASD,C;;AClFD,GAAMiD,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,iFAAqBtC,IAArB,CAA0B,cAAiD,IAA9CuC,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIElC,QAAQ,CAACmC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAV,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","import React, { useEffect, useState, useRef } from 'react';\nimport \"./App.css\";\n\nimport * as faceapi from 'face-api.js';\n\nexport default function App() {\n\n  const videoHeight = 720;\n  const videoWidth = 1280;\n  const [initializing, setInitializing] = useState(false)\n  const videoRef = useRef();\n  const canvasRef = useRef();\n\n  useEffect(() => {\n    const loadModels = async () => {\n      const MODEL_URL = process.env.PUBLIC_URL + '/models';\n      setInitializing(true);\n      Promise.all([\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\n        faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\n        faceapi.nets.faceExpressionNet.loadFromUri(MODEL_URL)\n      ]).then(startVideo)\n    }\n    loadModels();\n  }, []);\n\n  const startVideo = () => {\n    navigator.getUserMedia = navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia;\n\n    if (navigator.getUserMedia) {\n      navigator.getUserMedia({ audio: false, video: { width: 1280, height: 720 }, },\n        function (stream) {\n          var video = document.querySelector('video');\n          video.srcObject = stream;\n          video.onloadedmetadata = function (e) {\n            video.play();\n          };\n        },\n        function (err) {\n          console.log(\"The following error occurred: \" + err.name);\n        }\n      );\n    } else {\n      console.log(\"getUserMedia not supported\");\n    }\n\n\n  }\n\n  const handleVideoOnPlay = () => {\n    setInterval(async () => {\n      if (initializing) {\n        setInitializing(false);\n      }\n      canvasRef.current.innerHTML = faceapi.createCanvasFromMedia(videoRef.current);\n      const displaySize = {\n        width: videoWidth,\n        heigth: videoHeight\n      }\n      faceapi.matchDimensions(canvasRef.current, displaySize);\n      const detections = await faceapi.detectAllFaces(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n      const resizedDetections = faceapi.resizeResults(detections, displaySize);\n      canvasRef.current.getContext(\"2d\").clearRect(0, 0, videoWidth, videoHeight);\n      faceapi.draw.drawDetections(canvasRef.current, resizedDetections);\n      faceapi.draw.drawFaceLandmarks(canvasRef.current, resizedDetections);\n      faceapi.draw.drawFaceExpressions(canvasRef.current, resizedDetections)\n      console.log(detections);\n    }, 100)\n  }\n\n  return (\n    <div className=\"main\">\n      <span>{initializing ? \"Initializing\" : \"Ready\"}</span>\n      <div>\n        <video id=\"video\" className=\"video\" ref={videoRef} autoplay muted height={videoHeight} width={videoWidth} onPlay={handleVideoOnPlay} />\n        <canvas ref={canvasRef} />\n      </div>\n    </div>\n  )\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}